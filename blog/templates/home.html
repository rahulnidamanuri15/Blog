{% extends 'base.html' %}
{% block body %}

<div class="fixed-top " style="width: 30%;  left: 70%; top: 10%;">
  <div class="card  " style="width: 18rem;">
    <div class="card-body">
      <h5 class="card-title">Our Sidebar</h5>
      <p class="card-text">You can put any information you'd like.</p>
    </div>
    <ul class="list-group list-group-flush mb-3 ms-3 me-3 border rounded">
      <a href="#" class="list-group-item">Latest Posts</a>
      <a href="#" class="list-group-item">Announcements</a>
      <a href="#" class="list-group-item">Calenders</a>
      <a href="#" class="list-group-item">etc</a>
    </ul>

  </div>
</div>



<div class="" style="width: 70%; margin-left: 10%; margin-top: 5%;">
  {% for post in posts.items %}
  <div class="mt-3 w-50 container  ">
    <div class="card flex-md-row   box-shadow h-md-250 ">
      <div class="card-body d-flex flex-column align-items-start ">

        <legend class="border-bottom ">
          <div class="d-inline-block d-flex  align-items-center text-primary  gap-3 mb-2">
           <a href="{{url_for('users.user_posts',username=post.author.username)}}"> <img src="{{url_for('static',filename='profilepics/'+post.author.p_image)}}"
              style=" height: 40px; width: 40px; border-radius: 100%;"></a>
            <div class="d-flex  align-items-center">
              <a href="{{url_for('users.user_posts',username=post.author.username)}}"
                style="text-decoration: none; margin-right: 5px; font-size: large; ">{{post.author.username}}
              </a>
              <small class=" text-muted " style="font-size: small;">{{post.date_posted.strftime('%d-%m-%Y')}}</small>
            </div>
          </div>
        </legend>




        <h3 class="mb-0">
          <a class="" style="text-decoration: none;" 
            href="{{url_for('posts.view_post',id=post.id)}}">{{post.title}}</a>
        </h3>
        <p class="card-text mb-auto">{{post.content}}</p>
      </div>
    </div>
  </div>
  {% endfor %}
</div>


<div class="container d-flex justify-content-center ms-2 gap-1 align-items-end">
  {% for page_no in posts.iter_pages(left_edge=1,right_edge=1,left_current=1,right_current=1) %}

  {% if page_no %}

  {% if posts.page == page_no %}
  <a href="{{url_for('main.home',page=page_no)}}" class="btn btn-info mt-4 mb-4">{{page_no}}</a>
  {% else %}
  <a href="{{url_for('main.home',page=page_no)}}" class="btn btn-outline-info mt-4 mb-4">{{page_no}}</a>
  {% endif %}

  {% else %}
  ...
  {% endif %}

  {% endfor %}
</div>





{% endblock body %}